[English](./tutorial-for-user.md) | 简体中文

# Data Stucture Visualizer 用户教程

*Authored by JM233333*

*为便于描述，我们将被展示的数据结构（或算法）缩写为 **VDS**。*

## 快速上手

跟随下面的极简步骤，立即开始体验 Data Stucture Visualizer 为您提供的演示功能。

- 直接运行 `.jar` 或 `.exe` 文件，启动应用程序。

- 来到资源载入界面，请耐心等待载入完成（耗时约数秒），然后单击 START 按钮。如果载入过程停滞不动，说明程序构建有误，请查看 `err.log` 文件以获取详细的输出信息。

- 来到主选单界面。选择一个你感兴趣的 VDS ，单击对应的按钮。

- 来到演示界面。我们看到界面左下方的 Method Triggers 控制台，找到一个你感兴趣的操作，如果该操作有参数的话，为其输入每个参数（需输入合法的整数）。

- 单击操作所对应的按钮。

现在，关注界面中央的动画演示、界面左侧的代码追踪、以及界面右下方的输出信息，体验 DataStuctureVisualizer 的演示效果。当该操作执行完毕后，您可以重复第 $4$ ~ $5$ 步，反复执行各种不同的操作，并观察其执行过程。

## 核心 GUI 概览

演示界面的 GUI 示意图如下：

![design/sample-gui.jpg](https://github.com/JM233333/data-structure-visualizer/blob/master/design/sample-gui.jpg)

界面上方的 **菜单** 用于切换应用程序所演示的数据结构，或是返回主菜单。

- *注：目前版本仅支持返回主菜单，计划在未来版本中实现其它功能。*

界面下方的 **控制器 (Controller)** 是用户与应用程序进行交互的主要界面，包括四个子模块：

- **方法触发器 (Method Triggers)** 用于控制被展示的数据结构。你可以通过方法触发器让数据结构执行某种指定的操作，例如让栈执行 `push 2` 等。

- **动画控制器 (Animation Controller)** 包括所有用于设定动画的相关参数的控件，例如播放和暂停动画、调节动画播放速率和设置是否单步播放等。

- **输出盒子 (Output Box)** 用于接收来自被展示的数据结构在执行操作期间产生的输出流，并根据用户设置的输出精细度决定输出哪些内容。

- **批处理器 (Batch Processor)** 支持执行复杂的操作流。你可以在文本框中输入操作序列，或是从指定的文件中读取预设的操作序列，并对操作序列进行批处理。

界面中央的 **显示器 (Monitor)** 负责对数据结构进行可视化展示，用于展示数据结构的所有视觉元素及其动画效果都由显示器负责展示，实际上显示器就像是一个画板。

界面右侧的 **代码跟踪器 (Code Tracker)** 负责展示被展示的数据结构的实际实现代码，并在执行操作时负责进行代码追踪。

接下来，此文档会为您详细介绍控制器中每个子模块的使用方法，方便您进一步地使用 DataStuctureVisualizer 。

## 基本功能

### 方法触发器

方法触发器用于触发执行 VDS 的各种不同的操作。就像上一节中描述的那样，用户可以通过方法触发器与 VDS 直接进行交互，在 VDS 上反复执行各种不同的操作，并观察其执行过程。

**执行方法：** 单击按钮即可触发执行一次 VDS 的指定方法（即操作）。需要注意的是，如果该操作有参数的话，用户需要在触发之前为其输入每个参数（需输入合法的整数）。

请注意，在方法执行期间不能触发执行另一个方法，用户必须等待当前方法执行完毕。因此，用户通过方法触发器只能依次执行单个操作。如果用户需要大批量执行操作，应使用批处理器。

方法的执行结果会以视觉效果呈现到显示器上，同时以文本形式输出到输出盒子中。

若用户试图执行非法方法（例如在栈空时执行 `pop` 操作），则错误信息将被输出到输出盒子中，同时该方法将被拒绝执行。

### 动画控制器

动画控制器用于设定动画的相关参数。用户可以通过动画控制器决定 VDS 执行操作时的视觉元素变换和代码追踪的动画效果。

**设置动画播放速率：** 调整动画控制器上部的滚动条 Animation Rate 即可设置动画播放速率，左侧为最快，右侧为最慢。

请注意，在方法执行期间不能调整动画播放速率，因此切勿设置过慢的速度并使用批处理器执行大量方法。

**设置播放模式：** 点选动画控制器中部的选项即可设置播放模式，可选连续播放模式 (Continuous) 或单步播放模式 (Single Step) 。启动演示界面时默认为连续播放模式。

- 在连续播放模式下，当一个方法被触发执行后，其内部的各个子过程会连续执行。该模式将单个方法的执行过程视为一个整体，演示将非常流畅，但这不利于详细观察和研究方法的内部过程。

- 在单步播放模式下，与连续播放模式相反，在方法执行时，每当一个子过程执行完毕，演示过程（包括视觉元素变换和代码追踪）都会暂停，在收到用户指令后才会继续执行下一个子过程。该模式利于用户对 VDS 进行深入细致的学习。

播放模式可以随时设置。例如，若在方法执行过程中突然从连续播放模式调整为单步播放模式，那么当前正在执行的子过程执行完毕后，演示过程将立即暂停。

**暂停和继续：** 单击动画控制器下部的按钮 Pause 和 Continue 即可暂停和继续当前演示过程。

- 暂停：当前正在执行的子过程执行完毕后，演示过程将立即暂停。

- 继续：已被暂停的演示过程将继续进行。包括用户手动暂停和在单步播放模式下自动暂停的情况。

暂停和继续按钮仅在方法执行过程中有效。

### 输出盒子

输出盒子用于接收来自被展示的数据结构在执行操作期间产生的输出流。

- 每个方法的执行结果都会以文本形式被输出。

- 方法执行期间所产生的中间信息会被输出，具体输出多少内容取决于用户设置的输出精细度（目前版本暂不支持）。

- 若用户试图执行非法方法，则错误信息将被输出，同时该方法将被拒绝执行。

- 若方法执行期间出现运行时错误（即 VDS 的 java 代码抛出了异常），则错误信息将被输出。这通常意味着 VDS 的代码编写有误，如果是自定义扩展类，那么用户应当自行修复；否则可能是我们（开发团队）的问题，用户可以将错误报告给我们，我们将不胜感激。

### 批处理器

批处理器用于大批量执行 VDS 的方法。

用户需要在批处理器中输入一系列的方法调用，然后使用执行或构建功能以进行批处理操作。用户可以在文本框中手动输入，也可以单击 Read File 按钮从可识别的文件中读取预先写好的内容。

**输入格式：** 输入单个方法调用的格式为 `methodName arg1 arg2 ... argn` ，其中 `methodName` 为方法名， `argi` 为方法的第 `i` 个参数。

批处理器提供了执行和构建两种处理模式。无论是何种模式，都将严格按照输入顺序依次执行每个方法。

在真正开始批处理之前，批处理器会对用户输入进行合法性检查，如果检测到格式非法的调用（例如错误的方法名、错误的参数个数、参数不是整数等），那么批处理器将拒绝执行用户输入的所有指令。

**执行模式：** 单击 Run 按钮开始执行。

在执行模式下，每个方法的执行都会像通常那样展示演示过程（包括视觉元素变换和代码追踪），就像用户在方法触发器上手动地连续执行多个方法一样。

请注意，执行模式一经启动即不可中断或撤回，直到所有方法执行完毕为止。而在方法执行期间不能调整动画播放速率，因此切勿设置过慢的速度并使用批处理器执行大量方法。

**构建模式：** 单击 Build 按钮开始构建。

在构建模式下，这些方法将在一瞬间被执行完毕，所有演示过程将被省略。该模式适用于需要快速构建一个规模较大的数据结构的情况。

如果用户希望在一个初具规模的数据结构上执行各类操作，并希望在演示前快速构建出这个数据结构，而不是看着大量用于构建的操作动画，那么该模式是非常适合的。

## 自定义扩展

tutorial tbd.
